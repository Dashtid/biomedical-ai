# Example training configuration for U-Net medical image segmentation

# Model configuration
model:
  architecture: "unet"
  input_size: 256
  input_channels: 1  # Grayscale medical images
  num_classes: 1     # Binary segmentation
  base_filters: 64
  depth: 4
  use_batch_norm: true
  use_dropout: true
  dropout_rate: 0.5

# Data configuration
data:
  train_dir: "data/train/images"
  train_mask_dir: "data/train/masks"
  val_dir: "data/val/images"
  val_mask_dir: "data/val/masks"
  image_extension: ".png"
  mask_extension: ".png"

# Preprocessing
preprocessing:
  target_size: [256, 256]
  normalization_method: "min-max"  # or "z-score"
  clip_range: null  # [min, max] or null
  augmentation: false  # TODO: Implement augmentation

# Training configuration
training:
  batch_size: 8
  epochs: 100
  learning_rate: 0.0001
  loss_function: "dice"  # "dice", "bce", "combined", "focal", "tversky"
  loss_weights:
    dice: 0.7
    bce: 0.3

  # Metrics to track
  metrics:
    - "dice"
    - "iou"
    - "precision"
    - "recall"

  # Optimizer configuration
  optimizer: "adam"
  optimizer_params:
    beta_1: 0.9
    beta_2: 0.999
    epsilon: 1.0e-07

# Callbacks
callbacks:
  early_stopping:
    enabled: true
    monitor: "val_loss"
    patience: 10
    mode: "min"
    restore_best_weights: true

  reduce_lr:
    enabled: true
    monitor: "val_loss"
    factor: 0.5
    patience: 5
    min_lr: 1.0e-06
    mode: "min"

  model_checkpoint:
    enabled: true
    filepath: "checkpoints/best_model.keras"
    monitor: "val_dice"
    mode: "max"
    save_best_only: true

  tensorboard:
    enabled: false
    log_dir: "logs"

  csv_logger:
    enabled: true
    filename: "logs/training.csv"

# Output configuration
output:
  model_dir: "models"
  checkpoint_dir: "checkpoints"
  log_dir: "logs"
  results_dir: "results"

# Reproducibility
seed: 42
